# Тестовые задания

Этот репозиторий содержит решения для трех тестовых заданий, каждое из которых демонстрирует различные аспекты работы с Python.

## Структура проекта

```
.
├── task1/                 # Задание 1: Декоратор для проверки типов
│   ├── solution/
│   │   └── solution.py    # Решение
│   └── test.py           # Тесты
├── task2/                 # Задание 2: Работа с Wikipedia API
│   ├── solution/         # Директория с решением
│   ├── beasts.csv        # Результаты сбора данных
│   └── test.py           # Тесты
├── task3/                 # Задание 3: Работа с временными интервалами
│   ├── solution/
│   │   └── solution.py    # Решение
│   └── test.py           # Тесты
├── requirements.txt       # Общие зависимости проекта
└── venv/                 # Виртуальное окружение Python
```

## Задание 1: Декоратор для проверки типов

### Описание
Задача заключается в создании декоратора `@strict`, который проверяет соответствие типов аргументов и возвращаемого значения аннотациям типов функции. Декоратор должен:
- Проверять типы всех аргументов функции
- Проверять тип возвращаемого значения
- Вызывать TypeError при несоответствии типов
- Поддерживать частичную аннотацию типов

### Решение
- Реализует декоратор `@strict` для проверки типов
- Использует introspection для получения аннотаций и аргументов
- Проверяет как аргументы, так и возвращаемое значение
- Корректно обрабатывает частично аннотированные функции

### Тесты
- Написаны с использованием `unittest`
- Проверяют различные сценарии:
  - Несоответствие типов аргументов
  - Несоответствие типа возвращаемого значения
  - Корректная работа с правильными типами
  - Работа с частично аннотированными функциями

### Запуск тестов
```bash
cd task1
python -m unittest test.py -v
```

## Задание 2: Работа с Wikipedia API

### Описание
Программа должна:
- Получать список животных из русской Википедии
- Подсчитывать количество животных на каждую букву алфавита
- Сохранять результаты в CSV-файл

### Решение
- Использует библиотеку `wikipediaapi` для работы с Wikipedia API
- Реализует асинхронный сбор данных
- Включает обработку ошибок и повторные попытки
- Сохраняет результаты в CSV-файл

### Тесты
- Написаны с использованием `unittest`
- Тестируют все основные функции
- Включают моки для Wikipedia API
- Проверяют обработку ошибок

### Запуск
```bash
cd task2/solution
pip install -r requirements.txt
python solution.py
```

### Запуск тестов
```bash
cd task2
python -m unittest test.py -v
```

## Задание 3: Работа с временными интервалами

### Описание
Задача заключается в вычислении общего времени присутствия ученика и учителя на уроке. Программа должна:
- Обрабатывать временные интервалы присутствия ученика и учителя
- Учитывать границы урока
- Находить пересечения интервалов
- Вычислять общее время присутствия

### Решение
- Реализует эффективные алгоритмы для работы с интервалами:
  - `clip_to_lesson`: обрезка интервалов по границам урока
  - `merge_intervals`: объединение перекрывающихся интервалов
  - `intersect_intervals`: нахождение пересечений интервалов
- Обрабатывает различные edge cases
- Имеет линейную сложность по времени

### Тесты
- Написаны с использованием `unittest`
- Покрывают все основные сценарии:
  - Пустые интервалы
  - Отсутствие пересечений
  - Полное пересечение
  - Частичное пересечение
  - Интервалы вне урока
- Включают реальные тестовые данные

### Запуск тестов
```bash
cd task3
python -m unittest test.py -v
```

## Требования

- Python 3.8+
- Для задания 2: `wikipediaapi`
- Остальные зависимости указаны в соответствующих `requirements.txt`

## Особенности реализации

### Задание 1
- Использование introspection для работы с аннотациями типов
- Эффективная проверка типов аргументов и возвращаемого значения
- Поддержка частичной аннотации типов
- Чистая и понятная реализация декоратора

### Задание 2
- Асинхронный сбор данных
- Обработка ошибок сети
- Кэширование результатов
- Подробное логирование

### Задание 3
- Эффективные алгоритмы работы с интервалами
- Чистый и понятный код
- Полное покрытие тестами
- Обработка edge cases

## Лицензия

MIT 
